https://kpolyakov.spb.ru/school/ege/gen.php?action=viewTopic&topicId=5311
# Задача № 5311
#### Задание КИМ № 27: Обработка потока данных
Раздел № 161: Обработка потока числовых данных (КЕГЭ)

(Anshu Garg, Jatin Garg, Д. Муфаззалов) На вход программе поступает последовательность целых чисел. Рассматриваются все перестановки элементов этой последовательности. Для каждой такой перестановки находятся два числа: L – длина самой длинной строго возрастающей подпоследовательности при рассмотрении чисел в порядке от первого до последнего и M – длина самой длинной строго возрастающей подпоследовательности при рассмотрении чисел в обратном порядке. Необходимо определить такую перестановку, для которой величина R = min(L, M) максимальна.
Входные данные. Даны два входных файла (файл A и файл B), содержит в первой строке натуральное число N (2 ? N ? 1 000 000) – количество чисел в последовательности. Каждая из следующих N строк содержит одно натуральное число, не превышающее по модулю число 1000000.
Пример входного файла:
7
15
12
5
1
4
15
5
В этой последовательности числа можно переставить следующим образом: {4, 5, 15, 12, 15, 5, 1}, при этом L = 4 (подпоследовательность {4, 5, 12, 15}) и M = 4 (подпоследовательность {1, 5, 12, 15}), так что R = min(4 ,4) = 4. Ответ: 4.
В ответе укажите два числа: сначала искомое значение R для файла А, затем для файла B.

Ответ:
140 73641